{"version":3,"sources":["transition/pop.module.css","components/Reader/Publication.js","components/Reader/Counter.js","components/Reader/Controls.js","components/Reader/Reader.js","App.js","index.js","components/Reader/Reader.module.css"],"names":["module","exports","enter","enterActive","exit","exitActive","Publication","_ref","_ref$currentItem","currentItem","title","text","react_default","a","createElement","className","style","publication","slice","Counter","itemsLength","counter","Controls","onIncrement","onDicrement","controls","type","buttonDisabled","button","onClick","parseQueryString","currentPublication","startPublication","Number","queryString","parse","item","Reader","state","allPublication","animation","handleIncrement","parseString","_this","props","location","search","setState","handleDicrement","animationState","this","_this$props","history","stringQuery","push","Object","objectSpread","concat","prevState","_this$props2","_this$state","Fragment","CSSTransition","in","timeout","classNames","popTransition","unmountOnExit","Reader_Publication","Reader_Counter","length","Reader_Controls","Component","defaultProps","PropTypes","shape","withRouter","App","react_router","path","component","to","ReactDOM","render","react_router_dom","basename","document","querySelector","reader"],"mappings":"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","file":"static/js/main.a4503e9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"pop_enter__3swZh\",\"enterActive\":\"pop_enterActive__3E_Eo\",\"exit\":\"pop_exit__2UlPM\",\"exitActive\":\"pop_exitActive__bn2cS\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Reader.module.css';\n\nconst Publication = ({ currentItem: { title, text } }) => (\n  <section className={style.publication}>\n    <h2>{title}</h2>\n    <p>{text.slice(0, 300)}...</p>\n  </section>\n);\n\nPublication.propTypes = {\n  currentItem: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Reader.module.css';\n\nconst Counter = ({ currentItem, itemsLength }) => (\n  <p className={style.counter}>\n    {currentItem}/{itemsLength}\n  </p>\n);\n\nCounter.propTypes = {\n  currentItem: PropTypes.number.isRequired,\n  itemsLength: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Reader.module.css';\n\nconst Controls = ({ currentItem, itemsLength, onIncrement, onDicrement }) => (\n  <section className={style.controls}>\n    <button\n      type=\"button\"\n      className={currentItem === 1 ? style.buttonDisabled : style.button}\n      onClick={onIncrement}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      className={\n        currentItem === itemsLength ? style.buttonDisabled : style.button\n      }\n      onClick={onDicrement}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  currentItem: PropTypes.number.isRequired,\n  itemsLength: PropTypes.number.isRequired,\n  onIncrement: PropTypes.func.isRequired,\n  onDicrement: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport queryString from 'query-string';\nimport PropTypes from 'prop-types';\nimport Publication from './Publication';\nimport Counter from './Counter';\nimport Controls from './Controls';\nimport allPublication from './publication.json';\nimport popTransition from '../../transition/pop.module.css';\n\nconst parseQueryString = (currentPublication, startPublication) => {\n  return currentPublication\n    ? Number(queryString.parse(currentPublication).item)\n    : Number(startPublication);\n};\n\nclass Reader extends Component {\n  static defaultProps = {\n    history: PropTypes.shape({}),\n    location: PropTypes.shape({}),\n  };\n\n  static propTypes = {\n    history: PropTypes.shape({ push: PropTypes.func }),\n    location: PropTypes.shape({ search: PropTypes.string }),\n  };\n\n  state = {\n    currentPublication: 1,\n    publication: allPublication,\n    animation: true,\n  };\n\n  componentDidMount() {\n    const { currentPublication } = this.state;\n    const { history, location } = this.props;\n    const stringQuery = parseQueryString(location.search, currentPublication);\n\n    if (stringQuery !== currentPublication) {\n      this.setState({ currentPublication: stringQuery });\n\n      history.push({\n        ...location,\n        search: `?item=${stringQuery}`,\n      });\n\n      return;\n    }\n\n    history.push({\n      ...location,\n      search: `?item=${currentPublication}`,\n    });\n  }\n\n  componentDidUpdate(prevState) {\n    const { currentPublication } = this.state;\n    const { history, location } = this.props;\n    const prevParseString = parseQueryString(prevState.location.search);\n\n    if (prevParseString === currentPublication) {\n      return;\n    }\n\n    history.push({\n      ...location,\n      search: `?item=${currentPublication}`,\n    });\n\n    this.animationState();\n  }\n\n  handleIncrement = () => {\n    const parseString = parseQueryString(this.props.location.search);\n\n    this.setState({ currentPublication: parseString - 1, animation: false });\n  };\n\n  handleDicrement = () => {\n    const parseString = parseQueryString(this.props.location.search);\n\n    this.setState({ currentPublication: parseString + 1, animation: false });\n  };\n\n  animationState = () => {\n    this.setState({ animation: true });\n  };\n\n  render() {\n    const { currentPublication, publication, animation } = this.state;\n\n    return (\n      <>\n        <CSSTransition\n          in={animation}\n          timeout={600}\n          classNames={popTransition}\n          unmountOnExit\n        >\n          <Publication currentItem={publication[currentPublication - 1]} />\n        </CSSTransition>\n        <Counter\n          currentItem={currentPublication}\n          itemsLength={publication.length}\n        />\n        <Controls\n          currentItem={currentPublication}\n          itemsLength={publication.length}\n          onIncrement={this.handleIncrement}\n          onDicrement={this.handleDicrement}\n        />\n      </>\n    );\n  }\n}\n\nexport default withRouter(Reader);\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport Reader from './components/Reader/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />;\n    <Redirect to=\"/reader\" />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.querySelector('#root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__1HlyI\",\"publication\":\"Reader_publication__1Tcht\",\"counter\":\"Reader_counter__12z7d\",\"controls\":\"Reader_controls__omJIa\",\"button\":\"Reader_button__3aV74\",\"buttonDisabled\":\"Reader_buttonDisabled__D39-l Reader_button__3aV74\"};"],"sourceRoot":""}